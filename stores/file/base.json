{
  "applications": [
    {
      "name": "Forward Auth Management Console Web Application",
      "bearer": {
        "source": "env",
        "name": "FORWARD_AUTH_CONSOLE_APP_KEY",
        "optional": true
      }
    }
  ],
  "tenants": [],
  "authorization": {
    "hostGroups": [
      {
        "name": "No Auth Application Hosts",
        "hosts": [
          "traefik.localhost"
        ],
        "default": "allow"
      },
      {
        "name": "Authorization Host",
        "hosts": [
          "{{.Host}}"
        ],
        "default": "deny",
        "checks": [
          {
            "name": "forward-auth",
            "base": "",
            "paths": [
              {
                "path": "/health",
                "rules": {
                  "GET": {
                    "description": "get API health",
                    "expression": "true"
                  }
                }
              },
              {
                "path": "/info",
                "rules": {
                  "GET": {
                    "description": "get API info",
                    "expression": "bearer('ROOT_KEY')"
                  }
                }
              },
              {
                "path": "/openapi/:any",
                "rules": {
                  "GET": {
                    "description": "get Swagger API documentation",
                    "expression": "true"
                  }
                }
              },
              {
                "path": "/admin/loglevel",
                "rules": {
                  "GET": {
                    "description": "get API log level",
                    "expression": "bearer('ROOT_KEY')"
                  }
                }
              },
              {
                "path": "/admin/loglevel/:level",
                "rules": {
                  "PUT": {
                    "description": "set API log level",
                    "expression": "bearer('ROOT_KEY')"
                  }
                }
              },
              {
                "path": "/login",
                "rules": {
                  "POST": {
                    "description": "execute a tenant login through access-apis",
                    "expression": "true"
                  },
                  "OPTIONS": {
                    "description": "allow OPTIONS",
                    "expression": "true"
                  }
                }
              },
              {
                "path": "/logout",
                "rules": {
                  "PUT": {
                    "description": "logout the session found in the session",
                    "expression": "true"
                  },
                  "OPTIONS": {
                    "description": "allow OPTIONS",
                    "expression": "true"
                  }
                }
              },
              {
                "path": "/refresh",
                "rules": {
                  "PUT": {
                    "description": "refresh the JWT for the session found in the session cookie",
                    "expression": "true"
                  },
                  "OPTIONS": {
                    "description": "allow OPTIONS",
                    "expression": "true"
                  }
                }
              },
              {
                "path": "/sessions",
                "rules": {
                  "GET": {
                    "description": "get active sessions",
                    "expression": "true"
                  },
                  "OPTIONS": {
                    "description": "allow OPTIONS",
                    "expression": "true"
                  }
                }
              },
              {
                "path": "/session/:sid",
                "rules": {
                  "GET": {
                    "description": "get session for sid",
                    "expression": "true"
                  },
                  "OPTIONS": {
                    "description": "allow OPTIONS",
                    "expression": "true"
                  }
                }
              },
              {
                "path": "/blocks",
                "rules": {
                  "PUT": {
                    "description": "get tenant blocked users through access-apis",
                    "expression": "true"
                  },
                  "OPTIONS": {
                    "description": "allow OPTIONS",
                    "expression": "true"
                  }
                }
              },
              {
                "path": "/blocks/:sid",
                "rules": {
                  "PUT": {
                    "description": "execute a tenant block user through access-apis",
                    "expression": "true"
                  },
                  "OPTIONS": {
                    "description": "allow OPTIONS",
                    "expression": "true"
                  }
                }
              },
              {
                "path": "/blocks/:sid",
                "rules": {
                  "DELETE": {
                    "description": "remove a tenant block user through access-apis",
                    "expression": "true"
                  },
                  "OPTIONS": {
                    "description": "allow OPTIONS",
                    "expression": "true"
                  }
                }
              }
            ]
          }
        ]
      }
    ]
  }
}
